---
description: 
globs: 
alwaysApply: true
---
# PomeloX 功能开发流程

## 开发前准备

### 需求确认
1. 查阅 [PRD.md](mdc:PRD.md) 确认功能需求和用户故事
2. 检查 [MRD.md](mdc:MRD.md) 了解商业背景和用户价值
3. 确认功能优先级和版本规划

### 技术设计
1. 根据 [API_DOC.md](mdc:API_DOC.md) 设计或确认接口
2. 基于 [DB_SCHEMA.md](mdc:DB_SCHEMA.md) 设计数据存储
3. 考虑性能、安全和扩展性要求

## MVP 功能优先级

基于 [PRD.md](mdc:PRD.md) 中的版本规划：

### T0 优先级 (核心功能)
- 咨询 & AI 问答系统
- 用户注册登录系统

### T1 优先级 (差异化功能)
- 安心计划订阅和家庭绑定
- 紧急联系和志愿者系统

### T2 优先级 (基础服务)
- 接机服务预约
- 新生生活指南

## 代码质量要求

### 安全要求
- 密码使用 bcrypt 加密
- 所有用户输入进行验证和清理
- 实施 HTTPS 和 CORS 安全策略
- 敏感数据传输加密

### 性能要求
- API 响应时间 < 500ms
- AI 问答响应时间 < 3秒
- 支持 1000+ 并发用户

### 可维护性
- 代码注释使用中文
- 函数和变量命名清晰易懂
- 遵循项目技术栈最佳实践

## 技术栈规范

### 后端 (FastAPI + Python)
- 使用 Pydantic 进行数据验证
- SQLAlchemy ORM 进行数据库操作
- Alembic 进行数据库迁移
- Redis 用于缓存和会话管理

### 前端 (iOS + SwiftUI)
- 遵循 Apple 的 Human Interface Guidelines
- 使用 Combine 进行响应式编程
- 网络请求使用 URLSession
- 数据持久化使用 Core Data

### AI集成
- 使用 OpenAI GPT-4 作为主要 LLM
- 向量数据库使用 Pinecone 或 Weaviate
- 实施内容安全过滤
- 设置合理的 Token 使用限制
