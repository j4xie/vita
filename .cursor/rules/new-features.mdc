---
description: VitaGlobal新增功能模块开发指南
---

# VitaGlobal 新增功能模块开发规范

## 新增功能模块概览

基于最新产品思路，VitaGlobal增加了以下核心功能模块：

### 核心新增模块
1. **本地生活折扣系统** - 商家合作和优惠券核销
2. **积分体系** - 用户激励和粘性机制
3. **二手交易平台** - C2C校园二手市场
4. **CU校友圈** - 高信用度的内部求职网络
5. **企业微信群管理** - 自动化群组管理
6. **商家核销系统** - 数字化销售统计
7. **志愿者工时统计** - NPO组织数字化管理

## 开发优先级和时间安排

### MVP阶段 (2025.8.1 - 2025.11.1)
专注核心功能，新增模块作为占位：
- 预留数据库表结构
- 基础API接口框架
- 简单的前端占位页面

### V2阶段 (2025.11.1 - 2026.3.1)
重点开发商业化功能：
- **本地生活折扣系统** - 完整实现商家合作和用户兑换流程
- **积分体系** - 实现签到、任务奖励、积分商城
- **二手交易平台** - 基础的发布、浏览、交易功能

### V3阶段 (2026.3.1 - 2026.7.1)
社区生态建设：
- **CU校友圈** - 校友认证和内推网络
- **企业微信群管理** - API集成和自动化管理
- **志愿者工时统计** - 完整的任务分配和统计系统

## 开发规范要点

### 数据库设计原则
参考 [DB_SCHEMA.md](mdc:DB_SCHEMA.md) 中的新增表结构：
- 所有新表都使用UUID主键
- 枚举类型优先使用PostgreSQL ENUM
- 关键字段添加适当的约束和索引
- 考虑数据完整性和性能优化

### API接口规范
基于 [API_DOC.md](mdc:API_DOC.md) 中新增的接口设计：
- 遵循RESTful设计原则
- 支持国际化的错误消息
- 实施适当的权限控制
- 考虑缓存和性能优化

### 前端实现要点
- 新功能页面支持中英双语
- 考虑不同用户角色的权限展示
- 优化移动端用户体验
- 集成现有的积分和用户系统

## 特殊功能实现注意事项

### 积分系统
- 积分计算需要事务保证一致性
- 考虑防刷积分的安全措施
- 签到连击和奖励机制的复杂逻辑
- 积分过期和清零策略

### 商家核销系统
- 二维码生成和验证的安全性
- 防止重复核销的技术方案
- 商家端权限管理
- 实时销售数据统计

### CU校友圈
- 邮箱验证的技术实现
- 校友身份的二次确认机制
- 隐私保护和信息展示控制
- 与LinkedIn等平台的差异化定位

### 企业微信集成
- 企业微信API的调用和鉴权
- 二维码自动生成和刷新
- 群组成员管理和统计
- 异常情况处理和降级方案

### 志愿者工时管理
- 工时审核流程的数字化
- 多级审批和权限控制
- 工时统计和报表生成
- 与积分系统的集成

## 测试策略

### 功能测试重点
- 积分计算的准确性
- 优惠券核销的完整流程
- 校友认证的安全性
- 二手交易的用户体验

### 性能测试考虑
- 大量并发的积分计算
- 二手物品图片上传和展示
- 群组二维码的并发生成
- 商家核销的响应速度

### 安全测试要点
- 积分系统的防刷机制
- 优惠券的防伪造
- 校友身份验证的安全性
- 敏感信息的权限控制

## 运营支持功能

### 后台管理功能
- 商家信息和折扣管理
- 积分规则配置
- 校友认证审核
- 志愿者工时审批

### 数据统计和分析
- 用户活跃度和积分使用情况
- 商家合作效果分析
- 二手交易活跃度统计
- 校友网络增长数据

### 客服支持工具
- 积分问题处理
- 交易纠纷调解
- 账户异常处理
- 用户反馈收集
