# ğŸš€ PomeloX å¼€å‘æœåŠ¡å™¨ç®¡ç†æŒ‡å—

## ğŸ“‹ ç›®å½•
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [ç®¡ç†å‘½ä»¤](#ç®¡ç†å‘½ä»¤)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸ”¥ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆä¼šå‡ºç°å¤šä¸ªå¼€å‘æœåŠ¡å™¨ï¼Ÿ
**åŸå› :**
1. **ç«¯å£å†²çª**: å‰ä¸€ä¸ªæœåŠ¡å™¨æœªå®Œå…¨å…³é—­ï¼Œæ–°æœåŠ¡å™¨è‡ªåŠ¨é€‰æ‹©å…¶ä»–ç«¯å£
2. **ç¼“å­˜é—®é¢˜**: Metro bundler ç¼“å­˜å¯¼è‡´å¤šä¸ªå®ä¾‹
3. **è¿›ç¨‹æ®‹ç•™**: Expo æˆ– Metro è¿›ç¨‹åœ¨åå°ç»§ç»­è¿è¡Œ
4. **IDEé‡å¤å¯åŠ¨**: VS Code ç­‰IDEçš„é›†æˆç»ˆç«¯å¯èƒ½å¯åŠ¨å¤šä¸ªå®ä¾‹

### Q: å¦‚ä½•å®Œå…¨æ¸…ç†å¼€å‘ç¯å¢ƒï¼Ÿ
ä½¿ç”¨æˆ‘ä»¬æä¾›çš„ç®¡ç†å·¥å…·ï¼

## ğŸ› ï¸ ç®¡ç†å‘½ä»¤

### æ–°å¢çš„ npm è„šæœ¬
```bash
# æ£€æŸ¥ç«¯å£å ç”¨æƒ…å†µ
npm run dev:check

# æ¸…ç†æ‰€æœ‰å¼€å‘æœåŠ¡å™¨å¹¶å¯åŠ¨æ–°çš„
npm run dev:clean

# å¯åŠ¨å¹²å‡€çš„å¼€å‘æœåŠ¡å™¨
npm run dev

# å¿«é€Ÿé‡å¯ï¼ˆæ¸…ç†+å¯åŠ¨ï¼‰
npm run dev:restart
```

### ç›´æ¥ä½¿ç”¨è„šæœ¬
```bash
# ä½¿ç”¨ Shell è„šæœ¬
./scripts/dev-server-manager.sh check     # æ£€æŸ¥ç«¯å£
./scripts/dev-server-manager.sh cleanup   # æ¸…ç†è¿›ç¨‹
./scripts/dev-server-manager.sh start     # å¯åŠ¨æœåŠ¡å™¨
./scripts/dev-server-manager.sh restart   # é‡å¯

# ä½¿ç”¨ Node.js è„šæœ¬
node scripts/port-check.js check          # æ£€æŸ¥ç«¯å£å ç”¨
node scripts/port-check.js clean          # æ¸…ç†å ç”¨çš„ç«¯å£
node scripts/port-check.js restart        # æ¸…ç†å¹¶å‡†å¤‡é‡å¯
```

## âœ… æœ€ä½³å®è·µ

### 1. å¼€å‘å‰å¿…åšæ£€æŸ¥
```bash
# æ¯æ¬¡å¼€å§‹å¼€å‘å‰è¿è¡Œ
npm run dev:check
```

### 2. æ­£ç¡®çš„å¯åŠ¨æµç¨‹
```bash
# æ¨èæ–¹å¼ï¼šæ¸…ç†åå¯åŠ¨
npm run dev:clean

# æˆ–è€…ä½¿ç”¨ä¸€æ­¥åˆ°ä½çš„å‘½ä»¤
npm run dev:restart
```

### 3. å·¥ä½œç»“æŸåæ¸…ç†
```bash
# ç»“æŸå·¥ä½œæ—¶æ¸…ç†ç¯å¢ƒ
npm run dev:check
# å¦‚æœæœ‰å ç”¨çš„ç«¯å£ï¼Œè¿è¡Œæ¸…ç†
npm run dev:clean
```

### 4. IDE è®¾ç½®å»ºè®®
- **VS Code**: ä½¿ç”¨å†…ç½®ç»ˆç«¯ï¼Œé¿å…åŒæ—¶å¼€å¯å¤šä¸ªç»ˆç«¯çª—å£
- **WebStorm**: é…ç½®å¯åŠ¨è„šæœ¬ä½¿ç”¨æˆ‘ä»¬çš„ç®¡ç†å‘½ä»¤
- **ç»ˆç«¯**: æ¨èä½¿ç”¨ä¸€ä¸ªä¸“é—¨çš„ç»ˆç«¯çª—å£è¿›è¡Œå¼€å‘æœåŠ¡å™¨ç®¡ç†

## ğŸš¨ æ•…éšœæ’é™¤

### é—®é¢˜: ç«¯å£è¢«å ç”¨
```bash
# ç—‡çŠ¶: Error: listen EADDRINUSE: address already in use :::8081
# è§£å†³: 
npm run dev:check    # æŸ¥çœ‹å ç”¨æƒ…å†µ
npm run dev:clean    # æ¸…ç†å ç”¨çš„ç«¯å£
npm run dev          # é‡æ–°å¯åŠ¨
```

### é—®é¢˜: å¤šä¸ªæœåŠ¡å™¨åŒæ—¶è¿è¡Œ
```bash
# ç—‡çŠ¶: Expo å¼€å‘å·¥å…·æ˜¾ç¤ºå¤šä¸ªæœåŠ¡å™¨é€‰é¡¹
# è§£å†³:
./scripts/dev-server-manager.sh cleanup  # æ¸…ç†æ‰€æœ‰æœåŠ¡å™¨
./scripts/dev-server-manager.sh start    # å¯åŠ¨å•ä¸ªæœåŠ¡å™¨
```

### é—®é¢˜: Metro bundler å¡æ­»
```bash
# ç—‡çŠ¶: æ‰“åŒ…è¿›ç¨‹æ— å“åº”
# è§£å†³:
npm run dev:restart   # å¼ºåˆ¶é‡å¯æ‰€æœ‰ç›¸å…³è¿›ç¨‹
```

### é—®é¢˜: ç¼“å­˜å¯¼è‡´çš„é—®é¢˜
```bash
# ç—‡çŠ¶: ä»£ç æ›´æ”¹æœªç”Ÿæ•ˆ
# è§£å†³:
npx expo start --clear   # æ¸…é™¤ç¼“å­˜å¯åŠ¨
# æˆ–è€…
npm run dev:clean        # ä½¿ç”¨æˆ‘ä»¬çš„æ¸…ç†è„šæœ¬
```

## ğŸ“Š ç«¯å£ä½¿ç”¨è¯´æ˜

### é»˜è®¤ç«¯å£åˆ†é…
- **8081**: ä¸»è¦ Expo å¼€å‘æœåŠ¡å™¨
- **8082-8085**: å¤‡ç”¨ç«¯å£ï¼ˆè‡ªåŠ¨åˆ†é…ï¼‰
- **19000-19002**: Expo ä¼ ç»Ÿç«¯å£

### æ£€æŸ¥ç«¯å£å ç”¨
```bash
# æ£€æŸ¥ç‰¹å®šç«¯å£
lsof -i :8081

# æ£€æŸ¥æ‰€æœ‰ç›¸å…³ç«¯å£
npm run dev:check
```

### æ‰‹åŠ¨æ¸…ç†ç‰¹å®šç«¯å£
```bash
# æ¸…ç†å•ä¸ªç«¯å£
lsof -ti:8081 | xargs kill -9

# æ¸…ç†å¤šä¸ªç«¯å£
npm run dev:clean
```

## ğŸ¯ å¼€å‘å·¥ä½œæµå»ºè®®

### æ ‡å‡†å·¥ä½œæµ
1. **å¼€å§‹å·¥ä½œ**:
   ```bash
   npm run dev:check     # æ£€æŸ¥ç¯å¢ƒ
   npm run dev:clean     # å¯åŠ¨å¹²å‡€çš„æœåŠ¡å™¨
   ```

2. **å¼€å‘è¿‡ç¨‹ä¸­**:
   - é‡åˆ°é—®é¢˜æ—¶ä½¿ç”¨ `npm run dev:restart` å¿«é€Ÿé‡å¯
   - å®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰å¤šä½™çš„è¿›ç¨‹

3. **ç»“æŸå·¥ä½œ**:
   ```bash
   npm run dev:check     # æ£€æŸ¥æ˜¯å¦æœ‰æ®‹ç•™è¿›ç¨‹
   # å¦‚æœéœ€è¦ï¼Œè¿è¡Œæ¸…ç†å‘½ä»¤
   ```

### å›¢é˜Ÿåä½œå»ºè®®
- **ç»Ÿä¸€ä½¿ç”¨**è¿™äº›ç®¡ç†è„šæœ¬
- **PR ä¸­åŒ…å«**å¼€å‘æœåŠ¡å™¨ç›¸å…³çš„æ›´æ”¹è¯´æ˜
- **æ–‡æ¡£æ›´æ–°**æ—¶åŒæ—¶æ›´æ–°ç®¡ç†è„šæœ¬

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰ç«¯å£
```bash
# æŒ‡å®šç«¯å£å¯åŠ¨
npx expo start --port 8088

# ä¿®æ”¹é»˜è®¤ç«¯å£ï¼ˆåœ¨è„šæœ¬ä¸­ï¼‰
# ç¼–è¾‘ scripts/dev-server-manager.sh
```

### ç¯å¢ƒå˜é‡
```bash
# è®¾ç½®å¼€å‘ç¯å¢ƒå˜é‡
export EXPO_DEVTOOLS_LISTEN_ADDRESS=0.0.0.0
export EXPO_METRO_CACHE_KEY_VERSION=1
```

## ğŸ“ è„šæœ¬ç»´æŠ¤

### æ›´æ–°ç®¡ç†è„šæœ¬
ç®¡ç†è„šæœ¬ä½äºï¼š
- `scripts/dev-server-manager.sh` - Shell ç‰ˆæœ¬
- `scripts/port-check.js` - Node.js ç‰ˆæœ¬

### æ·»åŠ æ–°åŠŸèƒ½
å¯ä»¥åœ¨è„šæœ¬ä¸­æ·»åŠ ï¼š
- è‡ªåŠ¨æ£€æµ‹å’Œå¤„ç†ç‰¹å®šé”™è¯¯
- é›†æˆå…¶ä»–å¼€å‘å·¥å…·
- æ€§èƒ½ç›‘æ§åŠŸèƒ½

---

**è®°ä½**: å½“é‡åˆ°å¼€å‘æœåŠ¡å™¨é—®é¢˜æ—¶ï¼Œé¦–å…ˆå°è¯• `npm run dev:restart` ğŸš€