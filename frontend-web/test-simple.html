<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PomeloX æµ‹è¯•é¡µé¢</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      margin: 0;
      padding: 40px;
      min-height: 100vh;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: rgba(255,255,255,0.1);
      padding: 40px;
      border-radius: 20px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
    }
    
    h1 {
      text-align: center;
      font-size: 3rem;
      margin-bottom: 30px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }
    
    .feature-card {
      background: rgba(255,255,255,0.15);
      padding: 25px;
      border-radius: 15px;
      border: 1px solid rgba(255,255,255,0.2);
      transition: transform 0.3s ease;
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
    }
    
    .feature-card h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
    }
    
    .btn {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 2px solid rgba(255,255,255,0.3);
      padding: 15px 30px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 1rem;
      margin: 10px;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }
    
    .btn:hover {
      background: rgba(255,255,255,0.3);
      border-color: rgba(255,255,255,0.5);
      transform: translateY(-2px);
    }
    
    .activity-list {
      margin-top: 30px;
    }
    
    .activity-card {
      background: rgba(255,255,255,0.1);
      padding: 20px;
      margin: 15px 0;
      border-radius: 15px;
      border-left: 4px solid #4CAF50;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .activity-card:hover {
      background: rgba(255,255,255,0.15);
      transform: translateX(10px);
    }
    
    .search-box {
      width: 100%;
      padding: 15px;
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 25px;
      background: rgba(255,255,255,0.1);
      color: white;
      font-size: 1rem;
      margin-bottom: 20px;
    }
    
    .search-box::placeholder {
      color: rgba(255,255,255,0.7);
    }
    
    .log {
      background: rgba(0,0,0,0.2);
      padding: 15px;
      border-radius: 10px;
      margin: 20px 0;
      font-family: monospace;
      font-size: 0.9rem;
      max-height: 200px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ­ PomeloX æµ‹è¯•é¡µé¢</h1>
    
    <p style="text-align: center; font-size: 1.2rem; opacity: 0.9;">
      è¿™æ˜¯ä¸€ä¸ªç”¨äºæµ‹è¯• Playwright ç›‘æ§ç³»ç»Ÿçš„ç®€å•é¡µé¢
    </p>
    
    <div class="features">
      <div class="feature-card">
        <h3>ğŸ¯ æ´»åŠ¨ç®¡ç†</h3>
        <p>æµè§ˆå’ŒæŠ¥åå„ç§æ ¡å›­æ´»åŠ¨ï¼Œç»“è¯†æ–°æœ‹å‹ï¼Œä¸°å¯Œæ ¡å›­ç”Ÿæ´»ã€‚</p>
        <button class="btn" onclick="loadActivities()">æŸ¥çœ‹æ´»åŠ¨</button>
      </div>
      
      <div class="feature-card">
        <h3>ğŸ‘¥ ç”¨æˆ·ç³»ç»Ÿ</h3>
        <p>å®Œå–„çš„ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†ï¼Œä¿éšœæ•°æ®å®‰å…¨ã€‚</p>
        <button class="btn" onclick="showLogin()">ç™»å½•ç³»ç»Ÿ</button>
      </div>
      
      <div class="feature-card">
        <h3>ğŸ” æœç´¢åŠŸèƒ½</h3>
        <p>å¿«é€Ÿæœç´¢æ´»åŠ¨ã€ç”¨æˆ·å’Œç›¸å…³ä¿¡æ¯ã€‚</p>
        <input type="text" class="search-box" placeholder="æœç´¢æ´»åŠ¨..." onkeyup="handleSearch(this.value)">
      </div>
      
      <div class="feature-card">
        <h3>ğŸ“Š æ•°æ®ç»Ÿè®¡</h3>
        <p>å®æ—¶ç›‘æ§åº”ç”¨æ€§èƒ½å’Œç”¨æˆ·è¡Œä¸ºæ•°æ®ã€‚</p>
        <button class="btn" onclick="generateTestError()">æµ‹è¯•é”™è¯¯å¤„ç†</button>
      </div>
    </div>
    
    <div class="activity-list" id="activity-list" style="display: none;">
      <h2>ğŸ“… æ´»åŠ¨åˆ—è¡¨</h2>
      <div class="activity-card" onclick="viewActivity('spring-party')">
        <h4>ğŸ‰ CU 2025 æ˜¥å­£è¿æ–°æ´¾å¯¹</h4>
        <p>æ—¶é—´: 2025å¹´9æœˆ15æ—¥ 18:00 | åœ°ç‚¹: å­¦ç”Ÿæ´»åŠ¨ä¸­å¿ƒ</p>
      </div>
      <div class="activity-card" onclick="viewActivity('chinese-new-year')">
        <h4>ğŸ§§ ä¸­å›½æ–°å¹´åº†ç¥æ™šä¼š</h4>
        <p>æ—¶é—´: 2025å¹´2æœˆ10æ—¥ 19:00 | åœ°ç‚¹: å¤§ç¤¼å ‚</p>
      </div>
      <div class="activity-card" onclick="viewActivity('career-workshop')">
        <h4>ğŸ’¼ èŒä¸šå‘å±•å·¥ä½œåŠ</h4>
        <p>æ—¶é—´: 2025å¹´9æœˆ20æ—¥ 14:00 | åœ°ç‚¹: å›¾ä¹¦é¦†ä¼šè®®å®¤</p>
      </div>
    </div>
    
    <div id="console-log" class="log" style="display: none;">
      <h3>ğŸ–¥ï¸ æ§åˆ¶å°æ—¥å¿—</h3>
      <div id="log-content">
        <div>2025-09-06 16:30:00 - é¡µé¢å·²åŠ è½½</div>
      </div>
    </div>
  </div>

  <script>
    // æ¨¡æ‹Ÿåº”ç”¨åŠŸèƒ½çš„JavaScriptä»£ç 
    
    let logVisible = false;
    let activities = [];
    
    // æ—¥å¿—å‡½æ•°
    function log(message) {
      const timestamp = new Date().toLocaleString();
      const logContent = document.getElementById('log-content');
      const entry = document.createElement('div');
      entry.textContent = `${timestamp} - ${message}`;
      logContent.appendChild(entry);
      
      // åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°ä¾›Playwrightç›‘æ§
      console.log(`[PomeloX] ${message}`);
    }
    
    // åŠ è½½æ´»åŠ¨åˆ—è¡¨
    function loadActivities() {
      log('å¼€å§‹åŠ è½½æ´»åŠ¨åˆ—è¡¨...');
      
      const activityList = document.getElementById('activity-list');
      activityList.style.display = 'block';
      
      // æ¨¡æ‹ŸAPIè°ƒç”¨
      setTimeout(() => {
        log('æ´»åŠ¨åˆ—è¡¨åŠ è½½å®Œæˆ');
        activities = [
          { id: 'spring-party', name: 'CU 2025 æ˜¥å­£è¿æ–°æ´¾å¯¹', participants: 0 },
          { id: 'chinese-new-year', name: 'ä¸­å›½æ–°å¹´åº†ç¥æ™šä¼š', participants: 0 },
          { id: 'career-workshop', name: 'èŒä¸šå‘å±•å·¥ä½œåŠ', participants: 0 }
        ];
      }, 1000);
    }
    
    // æ˜¾ç¤ºç™»å½•ç•Œé¢
    function showLogin() {
      log('æ˜¾ç¤ºç™»å½•ç•Œé¢');
      
      const username = prompt('è¯·è¾“å…¥ç”¨æˆ·å:');
      if (username) {
        log(`ç”¨æˆ· ${username} å°è¯•ç™»å½•`);
        
        // æ¨¡æ‹Ÿç™»å½•éªŒè¯
        setTimeout(() => {
          if (username === 'admin') {
            log('ç™»å½•æˆåŠŸ - ç®¡ç†å‘˜æƒé™');
            alert('ç™»å½•æˆåŠŸï¼æ¬¢è¿ç®¡ç†å‘˜');
          } else {
            log('ç™»å½•æˆåŠŸ - æ™®é€šç”¨æˆ·æƒé™');
            alert(`ç™»å½•æˆåŠŸï¼æ¬¢è¿ ${username}`);
          }
        }, 800);
      }
    }
    
    // å¤„ç†æœç´¢
    function handleSearch(query) {
      if (query.length > 0) {
        log(`æœç´¢å…³é”®è¯: "${query}"`);
        
        // æ¨¡æ‹Ÿæœç´¢å»¶è¿Ÿ
        setTimeout(() => {
          const results = activities.filter(activity => 
            activity.name.toLowerCase().includes(query.toLowerCase())
          );
          log(`æœç´¢å®Œæˆï¼Œæ‰¾åˆ° ${results.length} ä¸ªç»“æœ`);
        }, 300);
      }
    }
    
    // æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ…
    function viewActivity(activityId) {
      log(`æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ…: ${activityId}`);
      
      const activity = activities.find(a => a.id === activityId);
      if (activity) {
        activity.participants++;
        log(`æ´»åŠ¨ "${activity.name}" æŸ¥çœ‹æ¬¡æ•°: ${activity.participants}`);
        alert(`æ´»åŠ¨è¯¦æƒ…:\n${activity.name}\næŸ¥çœ‹æ¬¡æ•°: ${activity.participants}`);
      }
    }
    
    // ç”Ÿæˆæµ‹è¯•é”™è¯¯
    function generateTestError() {
      log('ç”Ÿæˆæµ‹è¯•é”™è¯¯...');
      
      // éšæœºç”Ÿæˆä¸åŒç±»å‹çš„é”™è¯¯
      const errorTypes = [
        () => {
          // JavaScript é”™è¯¯
          throw new Error('è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ç”¨çš„JavaScripté”™è¯¯');
        },
        () => {
          // å°è¯•è®¿é—®ä¸å­˜åœ¨çš„å…ƒç´ 
          document.getElementById('non-existent-element').click();
        },
        () => {
          // ç½‘ç»œè¯·æ±‚é”™è¯¯ï¼ˆæ¨¡æ‹Ÿï¼‰
          fetch('/non-existent-api')
            .then(response => {
              if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
              }
            })
            .catch(error => {
              console.error('ç½‘ç»œè¯·æ±‚å¤±è´¥:', error.message);
            });
        },
        () => {
          // æ§åˆ¶å°è­¦å‘Š
          console.warn('è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•è­¦å‘Šä¿¡æ¯');
        }
      ];
      
      const randomError = errorTypes[Math.floor(Math.random() * errorTypes.length)];
      
      try {
        randomError();
      } catch (error) {
        console.error('æ•è·çš„é”™è¯¯:', error.message);
        log(`é”™è¯¯å·²ç”Ÿæˆ: ${error.message}`);
      }
    }
    
    // åˆ‡æ¢æ—¥å¿—æ˜¾ç¤º
    function toggleLog() {
      const logDiv = document.getElementById('console-log');
      logVisible = !logVisible;
      logDiv.style.display = logVisible ? 'block' : 'none';
      log(logVisible ? 'æ§åˆ¶å°æ—¥å¿—å·²æ˜¾ç¤º' : 'æ§åˆ¶å°æ—¥å¿—å·²éšè—');
    }
    
    // æ€§èƒ½ç›‘æ§
    function measurePerformance() {
      const startTime = performance.now();
      
      // æ¨¡æ‹Ÿä¸€äº›è®¡ç®—
      let result = 0;
      for (let i = 0; i < 1000000; i++) {
        result += Math.random();
      }
      
      const endTime = performance.now();
      const duration = endTime - startTime;
      
      log(`æ€§èƒ½æµ‹è¯•å®Œæˆï¼Œè€—æ—¶: ${duration.toFixed(2)}ms`);
    }
    
    // é¡µé¢åŠ è½½å®Œæˆäº‹ä»¶
    window.addEventListener('load', function() {
      log('é¡µé¢åŠ è½½å®Œæˆ');
      
      // æ·»åŠ ä¸€äº›äº¤äº’æŒ‰é’®
      const container = document.querySelector('.container');
      const buttonsDiv = document.createElement('div');
      buttonsDiv.style.textAlign = 'center';
      buttonsDiv.style.marginTop = '30px';
      
      buttonsDiv.innerHTML = `
        <button class="btn" onclick="toggleLog()">æ˜¾ç¤º/éšè—æ—¥å¿—</button>
        <button class="btn" onclick="measurePerformance()">æ€§èƒ½æµ‹è¯•</button>
        <button class="btn" onclick="location.reload()">åˆ·æ–°é¡µé¢</button>
      `;
      
      container.appendChild(buttonsDiv);
    });
    
    // å®šæœŸæ›´æ–°
    setInterval(() => {
      const now = new Date().toLocaleTimeString();
      console.info(`[PomeloX] ç³»ç»ŸçŠ¶æ€æ­£å¸¸ - ${now}`);
    }, 10000);
    
    // é¡µé¢å¯è§æ€§å˜åŒ–ç›‘å¬
    document.addEventListener('visibilitychange', function() {
      if (document.hidden) {
        log('é¡µé¢å·²éšè—');
      } else {
        log('é¡µé¢å·²æ˜¾ç¤º');
      }
    });
    
    // é”™è¯¯å…¨å±€æ•è·
    window.addEventListener('error', function(event) {
      log(`å…¨å±€é”™è¯¯æ•è·: ${event.message} (${event.filename}:${event.lineno})`);
    });
    
    // Promise é”™è¯¯æ•è·
    window.addEventListener('unhandledrejection', function(event) {
      log(`æœªå¤„ç†çš„Promiseé”™è¯¯: ${event.reason}`);
      event.preventDefault();
    });
    
    console.log('ğŸ­ PomeloX æµ‹è¯•é¡µé¢å·²åˆå§‹åŒ–');
  </script>
</body>
</html>