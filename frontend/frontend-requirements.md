# PomeloX 前端开发需求文档

## 项目概述
PomeloX Phase 0 前端开发需求，专注于移动端用户体验，为海外中国学生组织提供活动管理和报名平台。

**技术栈:** React Native + Expo
**开发周期:** 5周 (2025年8月7日 - 9月10日)
**目标:** 9月中旬支持大规模获客活动

---

## Phase 0 开发计划 (5周)

### Week 1: 基础架构 + 用户系统 (8/7-8/13)

#### 任务1.1: 项目初始化
- **开发时间:** 1天
- **任务内容:**
  - 使用Expo CLI创建React Native项目
  - 配置TypeScript支持
  - 设置项目目录结构
  - 配置ESLint和Prettier
- **交付物:** 可运行的基础项目框架
- **验收标准:** 项目可以在iOS/Android模拟器中启动

#### 任务1.2: 设计系统实现
- **开发时间:** 2天
- **任务内容:**
  - 实现Colors、Typography、Spacing等设计Token
  - 创建基础UI组件库 (Button, Input, Card等)
  - 设置暗色/亮色主题支持
  - 配置响应式布局系统
  - **国际化配置:** 设置React Native国际化库 (react-native-localize, i18next)
  - **多语言UI适配:** 创建支持文本长度变化的弹性布局组件
- **交付物:** 完整的设计系统组件库 + 国际化基础架构
- **验收标准:** 所有基础组件可正常使用并支持主题切换 + 支持中英文切换

#### 任务1.3: 路由和导航
- **开发时间:** 1天
- **任务内容:**
  - 配置React Navigation
  - 实现Tab导航和Stack导航
  - 设置路由守卫和权限控制
- **交付物:** 完整的导航系统
- **验收标准:** 用户可以在不同页面间正常导航

#### 任务1.4: 用户认证界面
- **开发时间:** 2天
- **任务内容:**
  - 登录页面UI (邮箱+密码)
  - 注册页面UI (邮箱+密码+确认密码)
  - 邮箱验证页面
  - 忘记密码页面
  - 表单验证和错误提示
- **交付物:** 完整的认证流程界面
- **验收标准:** 用户可以完成注册和登录操作

#### 任务1.5: 国际化基础架构
- **开发时间:** 1天
- **任务内容:**
  - 创建多语言字符串文件结构 (zh-CN, en-US)
  - 实现自动语言检测功能
  - 配置用户语言偏好存储
  - 实现日期时间本地化
  - 创建翻译管理工具函数
- **交付物:** 完整的前端国际化系统
- **验收标准:** 应用可以根据设备语言自动切换中英文

#### 👤 你需要做的第三方集成:
- **Gmail API配置:** 注册Google Cloud Platform账号，开启Gmail API，获取API密钥
- **推送通知服务:** 注册Firebase项目，配置FCM推送服务

---

### Week 2: 活动管理系统 (8/14-8/20)

#### 任务2.1: 活动卡片组件
- **开发时间:** 2天
- **任务内容:**
  - 实现EventCard组件 (参考ACTIVITY_CARD_COMPONENT.md)
  - 支持图片加载和缓存
  - 实现渐变覆盖和状态标签
  - 添加收藏和快速报名功能
  - **国际化集成:** 所有文本通过国际化系统管理
  - **多语言UI适配:** 处理中英文文本长度差异的布局自适应
- **交付物:** 可复用的活动卡片组件 (支持多语言)
- **验收标准:** 卡片能够正确显示活动信息并响应用户交互 + 中英文切换正常

#### 任务2.2: 活动列表页面
- **开发时间:** 2天
- **任务内容:**
  - 实现FlatList优化的长列表
  - 添加下拉刷新和上拉加载更多
  - 实现筛选和搜索功能
  - 添加空状态和加载状态
- **交付物:** 完整的活动列表页面
- **验收标准:** 用户可以流畅浏览所有活动并进行筛选

#### 任务2.3: 活动详情页面
- **开发时间:** 2天
- **任务内容:**
  - 活动详情页面布局 (大图+详细信息)
  - 报名表单集成
  - 评论和问答区域
  - 分享功能实现
- **交付物:** 完整的活动详情页面
- **验收标准:** 用户可以查看活动详情并完成报名

#### 👤 你需要做的第三方集成:
- **图片存储服务:** 配置Cloudflare R2或AWS S3存储桶，获取访问密钥
- **地图服务:** 集成Google Maps API或Apple Maps，获取API密钥

---

### Week 3: 报名功能 + 用户体验优化 (8/21-8/27)

#### 任务3.1: 报名流程优化
- **开发时间:** 2天
- **任务内容:**
  - 一键报名组件实现
  - 报名表单动态生成
  - 名额实时更新显示
  - 报名成功确认页面
- **交付物:** 流畅的报名用户体验
- **验收标准:** 用户可以快速完成报名并收到确认

#### 任务3.2: 个人中心页面
- **开发时间:** 2天
- **任务内容:**
  - 用户资料管理页面
  - 我的报名记录
  - 收藏的活动列表
  - 设置页面 (包含语言切换选项)
  - **语言偏好设置:** 实现手动语言切换功能
  - **多语言数据展示:** 历史记录等数据的多语言显示
- **交付物:** 完整的个人中心功能 (支持语言切换)
- **验收标准:** 用户可以管理个人信息和查看历史记录 + 可以手动切换语言

#### 任务3.3: 推送通知集成
- **开发时间:** 1天
- **任务内容:**
  - 集成Expo Notifications
  - 实现推送权限请求
  - 添加通知处理逻辑
- **交付物:** 推送通知功能
- **验收标准:** 用户可以接收活动相关推送

#### 👤 你需要做的第三方集成:
- **推送服务配置:** 完成Firebase FCM配置，上传APNS证书

---

### Week 4: 管理后台界面 + CRM功能 (8/28-9/3)

#### 任务4.1: 管理员登录和权限
- **开发时间:** 1天
- **任务内容:**
  - 管理员登录界面
  - 权限验证组件
  - 管理员导航菜单
- **交付物:** 管理员认证系统
- **验收标准:** 管理员可以安全登录后台

#### 任务4.2: 活动管理后台
- **开发时间:** 2天
- **任务内容:**
  - 活动创建和编辑表单
  - 图片上传组件
  - 活动列表管理界面
  - 活动状态控制
- **交付物:** 完整的活动管理界面
- **验收标准:** 管理员可以发布和管理活动

#### 任务4.3: CRM数据展示
- **开发时间:** 2天
- **任务内容:**
  - 报名数据统计图表
  - 用户列表和筛选
  - 数据导出功能
  - 活动分析报告
- **交付物:** CRM数据管理界面
- **验收标准:** 管理员可以查看和导出报名数据

---

### Week 5: 测试优化 + 上线准备 (9/4-9/10)

#### 任务5.1: 性能优化
- **开发时间:** 2天
- **任务内容:**
  - 图片懒加载和缓存优化
  - 列表滚动性能优化
  - 内存泄漏检查和修复
  - Bundle体积优化
- **交付物:** 性能优化报告
- **验收标准:** 应用启动时间<3秒，滚动流畅60fps

#### 任务5.2: Bug修复和测试
- **开发时间:** 2天
- **任务内容:**
  - 单元测试编写
  - 集成测试执行
  - 用户界面测试
  - 兼容性测试 (iOS/Android)
- **交付物:** 测试报告和Bug修复
- **验收标准:** 核心功能无严重Bug，通过所有测试用例

#### 任务5.3: 应用商店准备
- **开发时间:** 1天
- **任务内容:**
  - 应用图标和启动屏
  - 应用商店截图和描述
  - 隐私政策和用户协议
  - 版本发布配置
- **交付物:** 应用商店上架资料
- **验收标准:** 准备好App Store和Google Play上架材料

#### 👤 你需要做的应用商店配置:
- **Apple Developer账号:** 注册开发者账号，配置证书和配置文件
- **Google Play Console:** 注册开发者账号，创建应用项目
- **隐私政策:** 编写隐私政策并托管到网站

---

## 核心页面流程图

### 用户端流程
```
启动页 → 登录/注册 → 邮箱验证 → 活动列表 → 活动详情 → 报名表单 → 确认页面
                                ↓
个人中心 ← 我的报名 ← 收藏列表 ← 设置页面
```

### 管理员流程
```
管理员登录 → 后台首页 → 活动管理 → 创建/编辑活动 → 发布活动
                          ↓
CRM数据 ← 报名统计 ← 用户管理 ← 数据导出
```

---

## 关键技术要点

### 状态管理
- 使用Context API或Redux Toolkit进行状态管理
- 本地存储使用AsyncStorage
- 网络请求状态统一管理

### 性能优化策略
- 图片懒加载和压缩
- FlatList优化配置
- 内存管理和组件优化
- Bundle分割和懒加载

### 用户体验设计
- 加载状态和骨架屏
- 错误处理和重试机制
- 无网络状态处理
- 手势和动画优化

### 国际化支持
- **自动语言检测:** 根据设备语言自动选择界面语言
- **手动语言切换:** 用户可以在设置中切换语言
- **本地化适配:** 日期、时间、数字格式本地化
- **UI弹性布局:** 支持不同语言文本长度的自适应布局
- **翻译管理:** 统一的翻译字符串管理和更新机制

### 安全考虑
- Token安全存储
- API请求加密
- 用户输入验证
- 敏感信息保护

---

## 验收标准总结

### 功能完整性
- ✅ 用户可以注册并验证邮箱
- ✅ 用户可以浏览活动列表并报名
- ✅ 管理员可以发布和管理活动
- ✅ 系统可以发送邮件通知

### 性能指标
- ✅ 应用启动时间 < 3秒
- ✅ 列表滚动帧率 > 55fps
- ✅ 图片加载时间 < 2秒
- ✅ API响应时间 < 1秒

### 兼容性要求
- ✅ iOS 13.0+ 支持
- ✅ Android 8.0+ 支持
- ✅ 多种屏幕尺寸适配
- ✅ 横竖屏切换支持

### 国际化要求
- ✅ 支持中文(简体)和英文双语
- ✅ 自动语言检测和手动切换
- ✅ 所有用户界面文本支持多语言
- ✅ 日期时间格式本地化
- ✅ 不同语言下UI布局正常

---

## 风险控制措施

### 技术风险
- **图片加载失败:** 实现占位图和重试机制
- **网络请求超时:** 配置超时重试和离线模式
- **内存溢出:** 定期检查和优化内存使用

### 进度风险
- **功能复杂度超预期:** 每周进行功能评审和优先级调整
- **测试时间不足:** 并行开发和测试，自动化测试覆盖

### 用户体验风险
- **界面不够直观:** 进行用户测试和反馈收集
- **操作流程复杂:** 简化用户操作步骤